{"ast":null,"code":"import \"core-js/modules/esnext.iterator.map.js\";\nimport { Bar } from 'vue-chartjs';\nimport { Chart as ChartJS, Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale } from 'chart.js';\nChartJS.register(Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale);\nexport default {\n  components: {\n    BarChart: Bar\n  },\n  data() {\n    return {\n      chartData: {\n        labels: [],\n        // Product names\n        datasets: [{\n          label: 'Total Sold',\n          data: [],\n          backgroundColor: 'rgba(75, 192, 192, 0.5)',\n          borderColor: 'rgba(75, 192, 192, 1)',\n          borderWidth: 1\n        }]\n      },\n      chartOptions: {\n        responsive: true,\n        plugins: {\n          legend: {\n            display: true,\n            position: 'top'\n          }\n        },\n        scales: {\n          x: {\n            title: {\n              display: true,\n              text: 'Products'\n            }\n          },\n          y: {\n            title: {\n              display: true,\n              text: 'Total Sold'\n            },\n            beginAtZero: true\n          }\n        }\n      }\n    };\n  },\n  async mounted() {\n    try {\n      const response = await fetch('http://localhost:5555/products/top-selling-products');\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      const data = await response.json();\n      console.log('Fetched top selling products data:', data);\n      if (data && Array.isArray(data.topSellingProducts)) {\n        this.chartData.labels = data.topSellingProducts.map(product => product.product_name);\n        this.chartData.datasets[0].data = data.topSellingProducts.map(product => product.total_sold);\n      } else {\n        console.error(\"Expected topSellingProducts to be an array:\", data);\n        this.chartData.labels = [];\n        this.chartData.datasets[0].data = [];\n      }\n    } catch (error) {\n      console.error('Failed to fetch top selling products data:', error);\n      this.chartData.labels = [];\n      this.chartData.datasets[0].data = [];\n    }\n  }\n};","map":{"version":3,"names":["Bar","Chart","ChartJS","Title","Tooltip","Legend","BarElement","CategoryScale","LinearScale","register","components","BarChart","data","chartData","labels","datasets","label","backgroundColor","borderColor","borderWidth","chartOptions","responsive","plugins","legend","display","position","scales","x","title","text","y","beginAtZero","mounted","response","fetch","ok","Error","status","json","console","log","Array","isArray","topSellingProducts","map","product","product_name","total_sold","error"],"sources":["C:\\laragon\\www\\Abas-Adeva-Final-project-Appdevvv\\project_appdev\\Frontend\\src\\views\\TopSellingProductsChart.vue"],"sourcesContent":["<template>\r\n    <div class=\"card\">\r\n      <div class=\"card-header\">\r\n        <h5>Top Selling Products</h5>\r\n      </div>\r\n      <div class=\"card-body\">\r\n        <!-- Render the chart only when chartData is ready -->\r\n        <BarChart v-if=\"chartData && chartData.labels.length\" :data=\"chartData\" :options=\"chartOptions\" />\r\n        <p v-else>Loading chart data...</p>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { Bar } from 'vue-chartjs';\r\n  import {\r\n    Chart as ChartJS,\r\n    Title,\r\n    Tooltip,\r\n    Legend,\r\n    BarElement,\r\n    CategoryScale,\r\n    LinearScale,\r\n  } from 'chart.js';\r\n  \r\n  ChartJS.register(Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale);\r\n  \r\n  export default {\r\n    components: { BarChart: Bar },\r\n    data() {\r\n      return {\r\n        chartData: {\r\n          labels: [], // Product names\r\n          datasets: [{\r\n            label: 'Total Sold',\r\n            data: [],\r\n            backgroundColor: 'rgba(75, 192, 192, 0.5)',\r\n            borderColor: 'rgba(75, 192, 192, 1)',\r\n            borderWidth: 1,\r\n          }],\r\n        },\r\n        chartOptions: {\r\n          responsive: true,\r\n          plugins: {\r\n            legend: {\r\n              display: true,\r\n              position: 'top',\r\n            },\r\n          },\r\n          scales: {\r\n            x: {\r\n              title: {\r\n                display: true,\r\n                text: 'Products',\r\n              },\r\n            },\r\n            y: {\r\n              title: {\r\n                display: true,\r\n                text: 'Total Sold',\r\n              },\r\n              beginAtZero: true,\r\n            },\r\n          },\r\n        },\r\n      };\r\n    },\r\n    async mounted() {\r\n      try {\r\n        const response = await fetch('http://localhost:5555/products/top-selling-products');\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! Status: ${response.status}`);\r\n        }\r\n        const data = await response.json();\r\n        console.log('Fetched top selling products data:', data);\r\n  \r\n        if (data && Array.isArray(data.topSellingProducts)) {\r\n          this.chartData.labels = data.topSellingProducts.map(product => product.product_name);\r\n          this.chartData.datasets[0].data = data.topSellingProducts.map(product => product.total_sold);\r\n        } else {\r\n          console.error(\"Expected topSellingProducts to be an array:\", data);\r\n          this.chartData.labels = [];\r\n          this.chartData.datasets[0].data = [];\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to fetch top selling products data:', error);\r\n        this.chartData.labels = [];\r\n        this.chartData.datasets[0].data = [];\r\n      }\r\n    },\r\n  };\r\n  </script>\r\n  "],"mappings":";AAcE,SAASA,GAAE,QAAS,aAAa;AACjC,SACEC,KAAI,IAAKC,OAAO,EAChBC,KAAK,EACLC,OAAO,EACPC,MAAM,EACNC,UAAU,EACVC,aAAa,EACbC,WAAW,QACN,UAAU;AAEjBN,OAAO,CAACO,QAAQ,CAACN,KAAK,EAAEC,OAAO,EAAEC,MAAM,EAAEC,UAAU,EAAEC,aAAa,EAAEC,WAAW,CAAC;AAEhF,eAAe;EACbE,UAAU,EAAE;IAAEC,QAAQ,EAAEX;EAAI,CAAC;EAC7BY,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE;QACTC,MAAM,EAAE,EAAE;QAAE;QACZC,QAAQ,EAAE,CAAC;UACTC,KAAK,EAAE,YAAY;UACnBJ,IAAI,EAAE,EAAE;UACRK,eAAe,EAAE,yBAAyB;UAC1CC,WAAW,EAAE,uBAAuB;UACpCC,WAAW,EAAE;QACf,CAAC;MACH,CAAC;MACDC,YAAY,EAAE;QACZC,UAAU,EAAE,IAAI;QAChBC,OAAO,EAAE;UACPC,MAAM,EAAE;YACNC,OAAO,EAAE,IAAI;YACbC,QAAQ,EAAE;UACZ;QACF,CAAC;QACDC,MAAM,EAAE;UACNC,CAAC,EAAE;YACDC,KAAK,EAAE;cACLJ,OAAO,EAAE,IAAI;cACbK,IAAI,EAAE;YACR;UACF,CAAC;UACDC,CAAC,EAAE;YACDF,KAAK,EAAE;cACLJ,OAAO,EAAE,IAAI;cACbK,IAAI,EAAE;YACR,CAAC;YACDE,WAAW,EAAE;UACf;QACF;MACF;IACF,CAAC;EACH,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,IAAI;MACF,MAAMC,QAAO,GAAI,MAAMC,KAAK,CAAC,qDAAqD,CAAC;MACnF,IAAI,CAACD,QAAQ,CAACE,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,uBAAuBH,QAAQ,CAACI,MAAM,EAAE,CAAC;MAC3D;MACA,MAAMzB,IAAG,GAAI,MAAMqB,QAAQ,CAACK,IAAI,CAAC,CAAC;MAClCC,OAAO,CAACC,GAAG,CAAC,oCAAoC,EAAE5B,IAAI,CAAC;MAEvD,IAAIA,IAAG,IAAK6B,KAAK,CAACC,OAAO,CAAC9B,IAAI,CAAC+B,kBAAkB,CAAC,EAAE;QAClD,IAAI,CAAC9B,SAAS,CAACC,MAAK,GAAIF,IAAI,CAAC+B,kBAAkB,CAACC,GAAG,CAACC,OAAM,IAAKA,OAAO,CAACC,YAAY,CAAC;QACpF,IAAI,CAACjC,SAAS,CAACE,QAAQ,CAAC,CAAC,CAAC,CAACH,IAAG,GAAIA,IAAI,CAAC+B,kBAAkB,CAACC,GAAG,CAACC,OAAM,IAAKA,OAAO,CAACE,UAAU,CAAC;MAC9F,OAAO;QACLR,OAAO,CAACS,KAAK,CAAC,6CAA6C,EAAEpC,IAAI,CAAC;QAClE,IAAI,CAACC,SAAS,CAACC,MAAK,GAAI,EAAE;QAC1B,IAAI,CAACD,SAAS,CAACE,QAAQ,CAAC,CAAC,CAAC,CAACH,IAAG,GAAI,EAAE;MACtC;IACF,EAAE,OAAOoC,KAAK,EAAE;MACdT,OAAO,CAACS,KAAK,CAAC,4CAA4C,EAAEA,KAAK,CAAC;MAClE,IAAI,CAACnC,SAAS,CAACC,MAAK,GAAI,EAAE;MAC1B,IAAI,CAACD,SAAS,CAACE,QAAQ,CAAC,CAAC,CAAC,CAACH,IAAG,GAAI,EAAE;IACtC;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}