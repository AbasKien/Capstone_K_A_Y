{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport '../assets/admin.css';\nimport axios from 'axios';\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nexport default {\n  setup() {\n    const router = useRouter();\n    const products = ref([]);\n    const tableRef = ref(null);\n    const baseUrl = 'http://localhost:5555';\n\n    // Form states\n    const newProduct = ref({\n      name: '',\n      description: '',\n      price: '',\n      image_url: ''\n    });\n    const editProduct = ref({\n      id: 0,\n      name: '',\n      description: '',\n      price: '',\n      quantity: 0,\n      image_url: ''\n    });\n\n    // Modal visibility states\n    const showAddProductModal = ref(false);\n    const showAddQuantityModal = ref(false);\n    const showEditProductModal = ref(false);\n\n    // Selected product and quantity to add\n    const selectedProduct = ref(null);\n    const quantityToAdd = ref(null);\n\n    // Snackbar state for messages\n    const snackbar = ref({\n      show: false,\n      message: '',\n      color: 'success'\n    });\n\n    // Methods\n    const fetchProducts = async () => {\n      try {\n        const response = await axios.get(`${baseUrl}/products`);\n        products.value = Array.isArray(response.data.products) ? response.data.products : [];\n\n        // Check for low stock products\n        const lowStockProducts = products.value.filter(product => product.quantity < 10);\n        if (lowStockProducts.length > 0) {\n          showLowStockAlert(lowStockProducts);\n        }\n      } catch (error) {\n        console.error('Error fetching products:', error);\n        products.value = [];\n      }\n    };\n    const showLowStockAlert = lowStockProducts => {\n      const productList = lowStockProducts.map(p => `${p.name} (${p.quantity} units)`).join(', ');\n      snackbar.value = {\n        show: true,\n        message: `Low Stock Alert! The following products are running low: ${productList}`,\n        color: 'warning'\n      };\n    };\n    const openEditProductModal = item => {\n      editProduct.value = {\n        ...item\n      };\n      showEditProductModal.value = true;\n    };\n    const updateProduct = async () => {\n      try {\n        const formData = new FormData();\n        formData.append('name', editProduct.value.name);\n        formData.append('description', editProduct.value.description);\n        formData.append('price', editProduct.value.price);\n        if (newProduct.value.image) {\n          formData.append('image', newProduct.value.image);\n        }\n        await axios.put(`${baseUrl}/products/${editProduct.value.id}`, formData);\n        showEditProductModal.value = false;\n        fetchProducts();\n        snackbar.value = {\n          show: true,\n          message: 'Product updated successfully',\n          color: 'success'\n        };\n      } catch (error) {\n        console.error('Error updating product:', error);\n        snackbar.value = {\n          show: true,\n          message: 'Error updating product',\n          color: 'error'\n        };\n      }\n    };\n    const addProduct = async () => {\n      try {\n        const formData = new FormData();\n        formData.append('name', newProduct.value.name);\n        formData.append('description', newProduct.value.description);\n        formData.append('price', newProduct.value.price);\n        if (newProduct.value.image) {\n          formData.append('image', newProduct.value.image);\n        }\n        await axios.post(`${baseUrl}/adminproducts`, formData);\n        showAddProductModal.value = false;\n        fetchProducts();\n        newProduct.value = {\n          name: '',\n          description: '',\n          price: '',\n          image_url: ''\n        };\n        snackbar.value = {\n          show: true,\n          message: 'Product added successfully',\n          color: 'success'\n        };\n      } catch (error) {\n        console.error('Error adding product:', error);\n        snackbar.value = {\n          show: true,\n          message: 'Error adding product',\n          color: 'error'\n        };\n      }\n    };\n    const openAddQuantityModal = product => {\n      selectedProduct.value = product;\n      quantityToAdd.value = null;\n      showAddQuantityModal.value = true;\n    };\n    const addQuantity = async () => {\n      try {\n        await axios.patch(`${baseUrl}/products/${selectedProduct.value.id}/quantity`, {\n          quantity: parseInt(quantityToAdd.value)\n        });\n        showAddQuantityModal.value = false;\n        fetchProducts();\n        snackbar.value = {\n          show: true,\n          message: 'Quantity updated successfully',\n          color: 'success'\n        };\n      } catch (error) {\n        console.error('Error updating quantity:', error);\n        snackbar.value = {\n          show: true,\n          message: 'Error updating quantity',\n          color: 'error'\n        };\n      }\n    };\n    const handleFileChange = event => {\n      const file = event.target.files[0];\n      if (file) {\n        newProduct.value.image = file;\n      }\n    };\n    const handleLogout = async () => {\n      try {\n        console.log(\"Logging out...\");\n        localStorage.clear();\n        await axios.post(`${baseUrl}/logout`, {}, {\n          withCredentials: true\n        });\n        router.push(\"/login\");\n      } catch (error) {\n        console.error(\"Logout failed\", error);\n      }\n    };\n    onMounted(() => {\n      fetchProducts();\n    });\n    return {\n      products,\n      tableRef,\n      baseUrl,\n      newProduct,\n      showAddProductModal,\n      showAddQuantityModal,\n      selectedProduct,\n      quantityToAdd,\n      snackbar,\n      showEditProductModal,\n      editProduct,\n      openEditProductModal,\n      updateProduct,\n      addProduct,\n      openAddQuantityModal,\n      addQuantity,\n      handleFileChange,\n      handleLogout\n    };\n  }\n};","map":{"version":3,"names":["axios","ref","onMounted","useRouter","setup","router","products","tableRef","baseUrl","newProduct","name","description","price","image_url","editProduct","id","quantity","showAddProductModal","showAddQuantityModal","showEditProductModal","selectedProduct","quantityToAdd","snackbar","show","message","color","fetchProducts","response","get","value","Array","isArray","data","lowStockProducts","filter","product","length","showLowStockAlert","error","console","productList","map","p","join","openEditProductModal","item","updateProduct","formData","FormData","append","image","put","addProduct","post","openAddQuantityModal","addQuantity","patch","parseInt","handleFileChange","event","file","target","files","handleLogout","log","localStorage","clear","withCredentials","push"],"sources":["C:\\laragon\\www\\Abas-Adeva-Final-project-Appdevvv\\project_appdev\\Frontend\\src\\views\\admin.vue"],"sourcesContent":["<template>\n  <div class=\"d-flex\">\n    <!-- Snackbar for alerts -->\n    <div class=\"snackbar\" v-if=\"snackbar.show\" :class=\"snackbar.color\">\n      <div class=\"snackbar-content\">\n        <i class=\"fas fa-exclamation-triangle me-2\" v-if=\"snackbar.color === 'warning'\"></i>\n        {{ snackbar.message }}\n        <button class=\"close-btn\" @click=\"snackbar.show = false\">&times;</button>\n      </div>\n    </div>\n\n    <!-- Sidebar -->\n    <nav class=\"sidebar bg-dark text-white vh-100 p-3\">\n      <h4 class=\"text-white mb-4\">Admin Dashboard</h4>\n      <ul class=\"nav nav-pills flex-column\">\n        <!-- Dashboard Link -->\n        <li class=\"nav-item\">\n          <router-link to=\"/admin/dashboard\" class=\"nav-link text-white\" active-class=\"active\">\n            <i class=\"fas fa-home me-2\"></i> Dashboard\n          </router-link>\n        </li>\n\n        <!-- Products Link -->\n        <li class=\"nav-item\">\n          <router-link to=\"/admin/products\" class=\"nav-link text-white\" active-class=\"active\">\n            <i class=\"fas fa-box me-2\"></i> Products\n          </router-link>\n        </li>\n\n        <!-- Product Logs Link -->\n        <li class=\"nav-item\">\n          <router-link to=\"/admin/product-logs\" class=\"nav-link text-white\" active-class=\"active\">\n            <i class=\"fas fa-clipboard-list me-2\"></i> Product Logs\n          </router-link>\n        </li>\n\n        <!-- Orders Link -->\n        <li class=\"nav-item\">\n          <router-link to=\"/admin/orders\" class=\"nav-link text-white\" active-class=\"active\">\n            <i class=\"fas fa-truck me-2\"></i> Orders\n          </router-link>\n        </li>\n\n        <!-- Logout Button -->\n        <li class=\"nav-item mt-auto\">\n          <button @click=\"handleLogout\" class=\"btn btn-danger w-100 mt-3\">\n            <i class=\"fas fa-sign-out-alt me-2\"></i> Logout\n          </button>\n        </li>\n      </ul>\n    </nav>\n\n    <!-- Main Content -->\n    <div class=\"flex-grow-1 p-4\">\n      <div class=\"container\">\n        <div class=\"d-flex justify-content-between align-items-center mb-4\">\n          <h2>Product Management</h2>\n          <button class=\"btn btn-primary\" @click=\"showAddProductModal = true\">\n            <i class=\"fas fa-plus me-2\"></i>Add New Product\n          </button>\n        </div>\n\n        <!-- Products Table -->\n        <div class=\"table-responsive\">\n          <table class=\"table table-hover\" ref=\"tableRef\">\n            <thead class=\"table-dark\">\n              <tr>\n                <th>ID</th>\n                <th>Image</th>\n                <th>Name</th>\n                <th>Description</th>\n                <th>Price</th>\n                <th>Quantity</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"item in products\" :key=\"item.id\">\n                <td>{{ item.id }}</td>\n                <td>\n                  <img :src=\"item.image_url\" alt=\"Product Image\" style=\"width: 50px; height: 50px; object-fit: cover;\">\n                </td>\n                <td>{{ item.name }}</td>\n                <td>{{ item.description }}</td>\n                <td>â‚±{{ item.price }}</td>\n                <td>\n                  {{ item.quantity }}\n                  <button class=\"btn btn-sm btn-outline-primary ms-2\" @click=\"openAddQuantityModal(item)\">\n                    <i class=\"fas fa-plus\"></i>\n                  </button>\n                </td>\n                <td>\n                  <button class=\"btn btn-sm btn-primary me-2\" @click=\"openEditProductModal(item)\">\n                    <i class=\"fas fa-edit\"></i>\n                  </button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n        <!-- Add Product Modal -->\n        <div class=\"modal fade\" tabindex=\"-1\" :class=\"{ show: showAddProductModal }\" v-if=\"showAddProductModal\">\n          <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n              <div class=\"modal-header\">\n                <h5 class=\"modal-title\">Add New Product</h5>\n                <button type=\"button\" class=\"btn-close\" @click=\"showAddProductModal = false\"></button>\n              </div>\n              <div class=\"modal-body\">\n                <form @submit.prevent=\"addProduct\">\n                  <div class=\"mb-3\">\n                    <label class=\"form-label\">Name</label>\n                    <input type=\"text\" class=\"form-control\" v-model=\"newProduct.name\" required>\n                  </div>\n                  <div class=\"mb-3\">\n                    <label class=\"form-label\">Description</label>\n                    <textarea class=\"form-control\" v-model=\"newProduct.description\" required></textarea>\n                  </div>\n                  <div class=\"mb-3\">\n                    <label class=\"form-label\">Price</label>\n                    <input type=\"number\" class=\"form-control\" v-model=\"newProduct.price\" required>\n                  </div>\n                  <div class=\"mb-3\">\n                    <label class=\"form-label\">Image</label>\n                    <input type=\"file\" class=\"form-control\" @change=\"handleFileChange\" accept=\"image/*\" required>\n                  </div>\n                  <div class=\"text-end\">\n                    <button type=\"button\" class=\"btn btn-secondary me-2\" @click=\"showAddProductModal = false\">Cancel</button>\n                    <button type=\"submit\" class=\"btn btn-primary\">Add Product</button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Edit Product Modal -->\n        <div class=\"modal fade\" tabindex=\"-1\" :class=\"{ show: showEditProductModal }\" v-if=\"showEditProductModal\">\n          <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n              <div class=\"modal-header\">\n                <h5 class=\"modal-title\">Edit Product</h5>\n                <button type=\"button\" class=\"btn-close\" @click=\"showEditProductModal = false\"></button>\n              </div>\n              <div class=\"modal-body\">\n                <form @submit.prevent=\"updateProduct\">\n                  <div class=\"mb-3\">\n                    <label class=\"form-label\">Name</label>\n                    <input type=\"text\" class=\"form-control\" v-model=\"editProduct.name\" required>\n                  </div>\n                  <div class=\"mb-3\">\n                    <label class=\"form-label\">Description</label>\n                    <textarea class=\"form-control\" v-model=\"editProduct.description\" required></textarea>\n                  </div>\n                  <div class=\"mb-3\">\n                    <label class=\"form-label\">Price</label>\n                    <input type=\"number\" class=\"form-control\" v-model=\"editProduct.price\" required>\n                  </div>\n                  <div class=\"mb-3\">\n                    <label class=\"form-label\">Current Image</label>\n                    <img :src=\"editProduct.image_url\" alt=\"Current Product Image\" style=\"max-width: 100px; display: block; margin-bottom: 10px;\">\n                    <input type=\"file\" class=\"form-control\" @change=\"handleFileChange\" accept=\"image/*\">\n                    <small class=\"text-muted\">Leave empty to keep current image</small>\n                  </div>\n                  <div class=\"text-end\">\n                    <button type=\"button\" class=\"btn btn-secondary me-2\" @click=\"showEditProductModal = false\">Cancel</button>\n                    <button type=\"submit\" class=\"btn btn-primary\">Update Product</button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Add Quantity Modal -->\n        <div class=\"modal fade\" tabindex=\"-1\" :class=\"{ show: showAddQuantityModal }\" v-if=\"showAddQuantityModal\">\n          <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n              <div class=\"modal-header\">\n                <h5 class=\"modal-title\">Add Quantity</h5>\n                <button type=\"button\" class=\"btn-close\" @click=\"showAddQuantityModal = false\"></button>\n              </div>\n              <div class=\"modal-body\">\n                <form @submit.prevent=\"addQuantity\">\n                  <div class=\"mb-3\">\n                    <label class=\"form-label\">Quantity to Add</label>\n                    <input type=\"number\" class=\"form-control\" v-model=\"quantityToAdd\" required min=\"1\">\n                  </div>\n                  <div class=\"text-end\">\n                    <button type=\"button\" class=\"btn btn-secondary me-2\" @click=\"showAddQuantityModal = false\">Cancel</button>\n                    <button type=\"submit\" class=\"btn btn-primary\">Add Quantity</button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport '../assets/admin.css';\nimport axios from 'axios';\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\n\nexport default {\n  setup() {\n    const router = useRouter();\n    const products = ref([]);\n    const tableRef = ref(null);\n    const baseUrl = 'http://localhost:5555';\n\n    // Form states\n    const newProduct = ref({ name: '', description: '', price: '', image_url: '' });\n    const editProduct = ref({ id: 0, name: '', description: '', price: '', quantity: 0, image_url: '' });\n\n    // Modal visibility states\n    const showAddProductModal = ref(false);\n    const showAddQuantityModal = ref(false);\n    const showEditProductModal = ref(false);\n\n    // Selected product and quantity to add\n    const selectedProduct = ref(null);\n    const quantityToAdd = ref(null);\n\n    // Snackbar state for messages\n    const snackbar = ref({ show: false, message: '', color: 'success' });\n\n    // Methods\n    const fetchProducts = async () => {\n      try {\n        const response = await axios.get(`${baseUrl}/products`);\n        products.value = Array.isArray(response.data.products) ? response.data.products : [];\n        \n        // Check for low stock products\n        const lowStockProducts = products.value.filter(product => product.quantity < 10);\n        if (lowStockProducts.length > 0) {\n          showLowStockAlert(lowStockProducts);\n        }\n      } catch (error) {\n        console.error('Error fetching products:', error);\n        products.value = [];\n      }\n    };\n\n    const showLowStockAlert = (lowStockProducts) => {\n      const productList = lowStockProducts.map(p => `${p.name} (${p.quantity} units)`).join(', ');\n      snackbar.value = {\n        show: true,\n        message: `Low Stock Alert! The following products are running low: ${productList}`,\n        color: 'warning'\n      };\n    };\n\n    const openEditProductModal = (item) => {\n      editProduct.value = { ...item };\n      showEditProductModal.value = true;\n    };\n\n    const updateProduct = async () => {\n      try {\n        const formData = new FormData();\n        formData.append('name', editProduct.value.name);\n        formData.append('description', editProduct.value.description);\n        formData.append('price', editProduct.value.price);\n        if (newProduct.value.image) {\n          formData.append('image', newProduct.value.image);\n        }\n\n        await axios.put(`${baseUrl}/products/${editProduct.value.id}`, formData);\n        showEditProductModal.value = false;\n        fetchProducts();\n        snackbar.value = {\n          show: true,\n          message: 'Product updated successfully',\n          color: 'success'\n        };\n      } catch (error) {\n        console.error('Error updating product:', error);\n        snackbar.value = {\n          show: true,\n          message: 'Error updating product',\n          color: 'error'\n        };\n      }\n    };\n\n    const addProduct = async () => {\n      try {\n        const formData = new FormData();\n        formData.append('name', newProduct.value.name);\n        formData.append('description', newProduct.value.description);\n        formData.append('price', newProduct.value.price);\n        if (newProduct.value.image) {\n          formData.append('image', newProduct.value.image);\n        }\n\n        await axios.post(`${baseUrl}/adminproducts`, formData);\n        showAddProductModal.value = false;\n        fetchProducts();\n        newProduct.value = { name: '', description: '', price: '', image_url: '' };\n        snackbar.value = {\n          show: true,\n          message: 'Product added successfully',\n          color: 'success'\n        };\n      } catch (error) {\n        console.error('Error adding product:', error);\n        snackbar.value = {\n          show: true,\n          message: 'Error adding product',\n          color: 'error'\n        };\n      }\n    };\n\n    const openAddQuantityModal = (product) => {\n      selectedProduct.value = product;\n      quantityToAdd.value = null;\n      showAddQuantityModal.value = true;\n    };\n\n    const addQuantity = async () => {\n      try {\n        await axios.patch(`${baseUrl}/products/${selectedProduct.value.id}/quantity`, {\n          quantity: parseInt(quantityToAdd.value)\n        });\n        showAddQuantityModal.value = false;\n        fetchProducts();\n        snackbar.value = {\n          show: true,\n          message: 'Quantity updated successfully',\n          color: 'success'\n        };\n      } catch (error) {\n        console.error('Error updating quantity:', error);\n        snackbar.value = {\n          show: true,\n          message: 'Error updating quantity',\n          color: 'error'\n        };\n      }\n    };\n\n    const handleFileChange = (event) => {\n      const file = event.target.files[0];\n      if (file) {\n        newProduct.value.image = file;\n      }\n    };\n\n    const handleLogout = async () => {\n      try {\n        console.log(\"Logging out...\");\n        localStorage.clear();\n        await axios.post(`${baseUrl}/logout`, {}, { withCredentials: true });\n        router.push(\"/login\");\n      } catch (error) {\n        console.error(\"Logout failed\", error);\n      }\n    };\n\n    onMounted(() => {\n      fetchProducts();\n    });\n\n    return {\n      products,\n      tableRef,\n      baseUrl,\n      newProduct,\n      showAddProductModal,\n      showAddQuantityModal,\n      selectedProduct,\n      quantityToAdd,\n      snackbar,\n      showEditProductModal,\n      editProduct,\n      openEditProductModal,\n      updateProduct,\n      addProduct,\n      openAddQuantityModal,\n      addQuantity,\n      handleFileChange,\n      handleLogout\n    };\n  }\n};\n</script>\n\n<style scoped>\n.snackbar {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 1000;\n  min-width: 300px;\n  max-width: 500px;\n  border-radius: 4px;\n  padding: 16px;\n  animation: slideIn 0.3s ease-out;\n}\n\n.snackbar.warning {\n  background-color: #fff3cd;\n  border: 1px solid #ffeeba;\n  color: #856404;\n}\n\n.snackbar.success {\n  background-color: #d4edda;\n  border: 1px solid #c3e6cb;\n  color: #155724;\n}\n\n.snackbar.error {\n  background-color: #f8d7da;\n  border: 1px solid #f5c6cb;\n  color: #721c24;\n}\n\n.snackbar-content {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.close-btn {\n  margin-left: auto;\n  background: none;\n  border: none;\n  font-size: 20px;\n  cursor: pointer;\n  color: inherit;\n  padding: 0 4px;\n}\n\n@keyframes slideIn {\n  from {\n    transform: translateX(100%);\n    opacity: 0;\n  }\n  to {\n    transform: translateX(0);\n    opacity: 1;\n  }\n}\n\n.modal.show {\n  display: block;\n  background-color: rgba(0, 0, 0, 0.5);\n}\n\n.sidebar {\n  width: 250px;\n  min-height: 100vh;\n}\n\n.main-content {\n  margin-left: 250px;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}