{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"card shadow mb-4\"\n};\nconst _hoisted_2 = {\n  class: \"card-header py-3 d-flex justify-content-between align-items-center\"\n};\nconst _hoisted_3 = {\n  class: \"card-body\"\n};\nconst _hoisted_4 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_5 = {\n  class: \"table table-bordered\"\n};\nconst _hoisted_6 = [\"onClick\", \"disabled\"];\nconst _hoisted_7 = [\"onClick\", \"disabled\"];\nconst _hoisted_8 = {\n  class: \"modal fade\",\n  id: \"createVoucherModal\",\n  tabindex: \"-1\",\n  ref: \"voucherModal\"\n};\nconst _hoisted_9 = {\n  class: \"modal-dialog\"\n};\nconst _hoisted_10 = {\n  class: \"modal-content\"\n};\nconst _hoisted_11 = {\n  class: \"modal-header\"\n};\nconst _hoisted_12 = {\n  class: \"modal-body\"\n};\nconst _hoisted_13 = {\n  class: \"mb-3\"\n};\nconst _hoisted_14 = {\n  class: \"mb-3\"\n};\nconst _hoisted_15 = {\n  key: 0,\n  class: \"mb-3\"\n};\nconst _hoisted_16 = {\n  class: \"mb-3\"\n};\nconst _hoisted_17 = {\n  class: \"mb-3\"\n};\nconst _hoisted_18 = {\n  class: \"mb-3\"\n};\nconst _hoisted_19 = {\n  class: \"text-end\"\n};\nconst _hoisted_20 = {\n  class: \"modal fade\",\n  id: \"assignVoucherModal\",\n  tabindex: \"-1\",\n  ref: \"assignModal\"\n};\nconst _hoisted_21 = {\n  class: \"modal-dialog\"\n};\nconst _hoisted_22 = {\n  class: \"modal-content\"\n};\nconst _hoisted_23 = {\n  class: \"modal-header\"\n};\nconst _hoisted_24 = {\n  class: \"modal-body\"\n};\nconst _hoisted_25 = {\n  class: \"mb-3\"\n};\nconst _hoisted_26 = [\"value\"];\nconst _hoisted_27 = {\n  class: \"text-end\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[15] || (_cache[15] = _createElementVNode(\"h6\", {\n    class: \"m-0 font-weight-bold text-primary\"\n  }, \"Voucher Management\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    class: \"btn btn-primary\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.showCreateVoucherModal && $options.showCreateVoucherModal(...args))\n  }, _cache[14] || (_cache[14] = [_createElementVNode(\"i\", {\n    class: \"fas fa-plus\"\n  }, null, -1 /* HOISTED */), _createTextVNode(\" Create Voucher \")]))]), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"table\", _hoisted_5, [_cache[16] || (_cache[16] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Code\"), _createElementVNode(\"th\", null, \"Type\"), _createElementVNode(\"th\", null, \"Value\"), _createElementVNode(\"th\", null, \"Min. Purchase\"), _createElementVNode(\"th\", null, \"Valid From\"), _createElementVNode(\"th\", null, \"Valid Until\"), _createElementVNode(\"th\", null, \"Status\"), _createElementVNode(\"th\", null, \"Assigned To\"), _createElementVNode(\"th\", null, \"Actions\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.vouchers, voucher => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: voucher.code\n    }, [_createElementVNode(\"td\", null, _toDisplayString(voucher.code), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(voucher.type === 'percentage' ? 'Percentage Off' : 'Free Shipping'), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(voucher.type === 'percentage' ? `${voucher.value}%` : 'Free Shipping'), 1 /* TEXT */), _createElementVNode(\"td\", null, \"₱\" + _toDisplayString(voucher.min_purchase), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($options.formatDate(voucher.valid_from)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($options.formatDate(voucher.valid_until)), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", {\n      class: _normalizeClass($options.getStatusBadgeClass(voucher.status))\n    }, _toDisplayString(voucher.status), 3 /* TEXT, CLASS */)]), _createElementVNode(\"td\", null, _toDisplayString(voucher.assigned_to ? voucher.assigned_to : 'Not Assigned'), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      class: \"btn btn-sm btn-primary me-2\",\n      onClick: $event => $options.showAssignModal(voucher),\n      disabled: voucher.status === 'inactive'\n    }, \" Assign \", 8 /* PROPS */, _hoisted_6), _createElementVNode(\"button\", {\n      class: \"btn btn-sm btn-danger\",\n      onClick: $event => $options.deactivateVoucher(voucher.code),\n      disabled: voucher.status === 'inactive'\n    }, \" Deactivate \", 8 /* PROPS */, _hoisted_7)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])]), _createCommentVNode(\" Create Voucher Modal \"), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_cache[17] || (_cache[17] = _createElementVNode(\"h5\", {\n    class: \"modal-title\"\n  }, \"Create New Voucher\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn-close\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.closeVoucherModal && $options.closeVoucherModal(...args))\n  })]), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"form\", {\n    onSubmit: _cache[9] || (_cache[9] = _withModifiers((...args) => $options.createVoucher && $options.createVoucher(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_13, [_cache[18] || (_cache[18] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"Voucher Code\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.newVoucher.code = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newVoucher.code]])]), _createElementVNode(\"div\", _hoisted_14, [_cache[20] || (_cache[20] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"Type\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    class: \"form-select\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.newVoucher.type = $event),\n    required: \"\"\n  }, _cache[19] || (_cache[19] = [_createElementVNode(\"option\", {\n    value: \"percentage\"\n  }, \"Percentage Off\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"shipping\"\n  }, \"Free Shipping\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.newVoucher.type]])]), $data.newVoucher.type === 'percentage' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [_cache[21] || (_cache[21] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"Discount Percentage\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.newVoucher.value = $event),\n    min: \"1\",\n    max: \"100\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newVoucher.value]])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_16, [_cache[22] || (_cache[22] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"Minimum Purchase Amount (₱)\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.newVoucher.min_purchase = $event),\n    min: \"0\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newVoucher.min_purchase]])]), _createElementVNode(\"div\", _hoisted_17, [_cache[23] || (_cache[23] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"Valid From\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.newVoucher.valid_from = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newVoucher.valid_from]])]), _createElementVNode(\"div\", _hoisted_18, [_cache[24] || (_cache[24] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"Valid Until\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.newVoucher.valid_until = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newVoucher.valid_until]])]), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary me-2\",\n    onClick: _cache[8] || (_cache[8] = (...args) => $options.closeVoucherModal && $options.closeVoucherModal(...args))\n  }, \" Cancel \"), _cache[25] || (_cache[25] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-primary\"\n  }, \" Create Voucher \", -1 /* HOISTED */))])], 32 /* NEED_HYDRATION */)])])])], 512 /* NEED_PATCH */), _createCommentVNode(\" Assign Voucher Modal \"), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"div\", _hoisted_23, [_cache[26] || (_cache[26] = _createElementVNode(\"h5\", {\n    class: \"modal-title\"\n  }, \"Assign Voucher\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn-close\",\n    onClick: _cache[10] || (_cache[10] = (...args) => $options.closeAssignModal && $options.closeAssignModal(...args))\n  })]), _createElementVNode(\"div\", _hoisted_24, [_createElementVNode(\"form\", {\n    onSubmit: _cache[13] || (_cache[13] = _withModifiers((...args) => $options.assignVoucher && $options.assignVoucher(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_25, [_cache[28] || (_cache[28] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"Select Client\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    class: \"form-select\",\n    \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.selectedUserId = $event),\n    required: \"\"\n  }, [_cache[27] || (_cache[27] = _createElementVNode(\"option\", {\n    value: \"\"\n  }, \"Choose a client...\", -1 /* HOISTED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.clients, user => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: user.id,\n      value: user.id\n    }, _toDisplayString(user.name) + \" (\" + _toDisplayString(user.email) + \") \", 9 /* TEXT, PROPS */, _hoisted_26);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.selectedUserId]])]), _createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary me-2\",\n    onClick: _cache[12] || (_cache[12] = (...args) => $options.closeAssignModal && $options.closeAssignModal(...args))\n  }, \" Cancel \"), _cache[29] || (_cache[29] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-primary\"\n  }, \" Assign Voucher \", -1 /* HOISTED */))])], 32 /* NEED_HYDRATION */)])])])], 512 /* NEED_PATCH */)]);\n}","map":{"version":3,"names":["class","id","tabindex","ref","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onClick","_cache","args","$options","showCreateVoucherModal","_createTextVNode","_hoisted_3","_hoisted_4","_hoisted_5","_Fragment","_renderList","$data","vouchers","voucher","code","_toDisplayString","type","value","min_purchase","formatDate","valid_from","valid_until","_normalizeClass","getStatusBadgeClass","status","assigned_to","$event","showAssignModal","disabled","_hoisted_6","deactivateVoucher","_hoisted_7","_createCommentVNode","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","closeVoucherModal","_hoisted_12","onSubmit","_withModifiers","createVoucher","_hoisted_13","newVoucher","required","_hoisted_14","_hoisted_15","min","max","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","closeAssignModal","_hoisted_24","assignVoucher","_hoisted_25","selectedUserId","clients","user","name","email","_hoisted_26","_hoisted_27"],"sources":["C:\\laragon\\www\\Abas-Adeva-Final-project-Appdevvv\\project_appdev\\Frontend\\src\\components\\VoucherManagement.vue"],"sourcesContent":["<template>\n  <div class=\"card shadow mb-4\">\n    <div class=\"card-header py-3 d-flex justify-content-between align-items-center\">\n      <h6 class=\"m-0 font-weight-bold text-primary\">Voucher Management</h6>\n      <button class=\"btn btn-primary\" @click=\"showCreateVoucherModal\">\n        <i class=\"fas fa-plus\"></i> Create Voucher\n      </button>\n    </div>\n    <div class=\"card-body\">\n      <div class=\"table-responsive\">\n        <table class=\"table table-bordered\">\n          <thead>\n            <tr>\n              <th>Code</th>\n              <th>Type</th>\n              <th>Value</th>\n              <th>Min. Purchase</th>\n              <th>Valid From</th>\n              <th>Valid Until</th>\n              <th>Status</th>\n              <th>Assigned To</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"voucher in vouchers\" :key=\"voucher.code\">\n              <td>{{ voucher.code }}</td>\n              <td>{{ voucher.type === 'percentage' ? 'Percentage Off' : 'Free Shipping' }}</td>\n              <td>{{ voucher.type === 'percentage' ? `${voucher.value}%` : 'Free Shipping' }}</td>\n              <td>₱{{ voucher.min_purchase }}</td>\n              <td>{{ formatDate(voucher.valid_from) }}</td>\n              <td>{{ formatDate(voucher.valid_until) }}</td>\n              <td>\n                <span :class=\"getStatusBadgeClass(voucher.status)\">\n                  {{ voucher.status }}\n                </span>\n              </td>\n              <td>\n                {{ voucher.assigned_to ? voucher.assigned_to : 'Not Assigned' }}\n              </td>\n              <td>\n                <button \n                  class=\"btn btn-sm btn-primary me-2\"\n                  @click=\"showAssignModal(voucher)\"\n                  :disabled=\"voucher.status === 'inactive'\"\n                >\n                  Assign\n                </button>\n                <button \n                  class=\"btn btn-sm btn-danger\"\n                  @click=\"deactivateVoucher(voucher.code)\"\n                  :disabled=\"voucher.status === 'inactive'\"\n                >\n                  Deactivate\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n\n    <!-- Create Voucher Modal -->\n    <div class=\"modal fade\" id=\"createVoucherModal\" tabindex=\"-1\" ref=\"voucherModal\">\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\">Create New Voucher</h5>\n            <button type=\"button\" class=\"btn-close\" @click=\"closeVoucherModal\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <form @submit.prevent=\"createVoucher\">\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Voucher Code</label>\n                <input \n                  type=\"text\" \n                  class=\"form-control\" \n                  v-model=\"newVoucher.code\"\n                  required\n                >\n              </div>\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Type</label>\n                <select class=\"form-select\" v-model=\"newVoucher.type\" required>\n                  <option value=\"percentage\">Percentage Off</option>\n                  <option value=\"shipping\">Free Shipping</option>\n                </select>\n              </div>\n              <div class=\"mb-3\" v-if=\"newVoucher.type === 'percentage'\">\n                <label class=\"form-label\">Discount Percentage</label>\n                <input \n                  type=\"number\" \n                  class=\"form-control\" \n                  v-model=\"newVoucher.value\"\n                  min=\"1\"\n                  max=\"100\"\n                  required\n                >\n              </div>\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Minimum Purchase Amount (₱)</label>\n                <input \n                  type=\"number\" \n                  class=\"form-control\" \n                  v-model=\"newVoucher.min_purchase\"\n                  min=\"0\"\n                  required\n                >\n              </div>\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Valid From</label>\n                <input \n                  type=\"date\" \n                  class=\"form-control\" \n                  v-model=\"newVoucher.valid_from\"\n                  required\n                >\n              </div>\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Valid Until</label>\n                <input \n                  type=\"date\" \n                  class=\"form-control\" \n                  v-model=\"newVoucher.valid_until\"\n                  required\n                >\n              </div>\n              <div class=\"text-end\">\n                <button type=\"button\" class=\"btn btn-secondary me-2\" @click=\"closeVoucherModal\">\n                  Cancel\n                </button>\n                <button type=\"submit\" class=\"btn btn-primary\">\n                  Create Voucher\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Assign Voucher Modal -->\n    <div class=\"modal fade\" id=\"assignVoucherModal\" tabindex=\"-1\" ref=\"assignModal\">\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\">Assign Voucher</h5>\n            <button type=\"button\" class=\"btn-close\" @click=\"closeAssignModal\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <form @submit.prevent=\"assignVoucher\">\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Select Client</label>\n                <select class=\"form-select\" v-model=\"selectedUserId\" required>\n                  <option value=\"\">Choose a client...</option>\n                  <option v-for=\"user in clients\" :key=\"user.id\" :value=\"user.id\">\n                    {{ user.name }} ({{ user.email }})\n                  </option>\n                </select>\n              </div>\n              <div class=\"text-end\">\n                <button type=\"button\" class=\"btn btn-secondary me-2\" @click=\"closeAssignModal\">\n                  Cancel\n                </button>\n                <button type=\"submit\" class=\"btn btn-primary\">\n                  Assign Voucher\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { Modal } from 'bootstrap';\n\nexport default {\n  name: 'VoucherManagement',\n  data() {\n    return {\n      vouchers: [],\n      clients: [],\n      voucherModal: null,\n      assignModal: null,\n      selectedVoucher: null,\n      selectedUserId: '',\n      newVoucher: {\n        code: '',\n        type: 'percentage',\n        value: 10,\n        min_purchase: 100,\n        valid_from: '',\n        valid_until: ''\n      }\n    };\n  },\n  methods: {\n    async fetchVouchers() {\n      try {\n        const response = await axios.get('http://localhost:5555/admin/vouchers', {\n          withCredentials: true\n        });\n        if (response.data.success) {\n          this.vouchers = response.data.vouchers;\n        }\n      } catch (error) {\n        console.error('Error fetching vouchers:', error);\n        this.$toast.error('Failed to fetch vouchers');\n      }\n    },\n\n    async fetchClients() {\n      try {\n        const response = await axios.get('http://localhost:5555/admin/clients', {\n          withCredentials: true\n        });\n        this.clients = response.data.clients;\n      } catch (error) {\n        console.error('Error fetching clients:', error);\n        this.$toast.error('Failed to fetch clients');\n      }\n    },\n\n    showCreateVoucherModal() {\n      this.voucherModal.show();\n    },\n\n    closeVoucherModal() {\n      this.voucherModal.hide();\n      this.resetVoucherForm();\n    },\n\n    showAssignModal(voucher) {\n      this.selectedVoucher = voucher;\n      this.selectedUserId = '';\n      this.assignModal.show();\n    },\n\n    closeAssignModal() {\n      this.assignModal.hide();\n      this.selectedVoucher = null;\n      this.selectedUserId = '';\n    },\n\n    resetVoucherForm() {\n      this.newVoucher = {\n        code: '',\n        type: 'percentage',\n        value: 10,\n        min_purchase: 100,\n        valid_from: '',\n        valid_until: ''\n      };\n    },\n\n    async createVoucher() {\n      try {\n        const response = await axios.post(\n          'http://localhost:5555/admin/vouchers',\n          this.newVoucher,\n          { withCredentials: true }\n        );\n        if (response.data.success) {\n          this.closeVoucherModal();\n          await this.fetchVouchers();\n          this.$toast.success('Voucher created successfully!');\n        }\n      } catch (error) {\n        console.error('Error creating voucher:', error);\n        this.$toast.error('Failed to create voucher');\n      }\n    },\n\n    async assignVoucher() {\n      try {\n        const response = await axios.post(\n          `http://localhost:5555/admin/vouchers/${this.selectedVoucher.code}/assign`,\n          { userId: this.selectedUserId },\n          { withCredentials: true }\n        );\n        if (response.data.success) {\n          this.closeAssignModal();\n          await this.fetchVouchers();\n          this.$toast.success('Voucher assigned successfully!');\n        }\n      } catch (error) {\n        console.error('Error assigning voucher:', error);\n        this.$toast.error('Failed to assign voucher');\n      }\n    },\n\n    async deactivateVoucher(code) {\n      if (confirm('Are you sure you want to deactivate this voucher?')) {\n        try {\n          const response = await axios.delete(\n            `http://localhost:5555/admin/vouchers/${code}`,\n            { withCredentials: true }\n          );\n          if (response.data.success) {\n            await this.fetchVouchers();\n            this.$toast.success('Voucher deactivated successfully!');\n          }\n        } catch (error) {\n          console.error('Error deactivating voucher:', error);\n          this.$toast.error('Failed to deactivate voucher');\n        }\n      }\n    },\n\n    getStatusBadgeClass(status) {\n      return `badge ${status === 'active' ? 'bg-success' : 'bg-danger'}`;\n    },\n\n    formatDate(date) {\n      return new Date(date).toLocaleDateString();\n    }\n  },\n  mounted() {\n    this.voucherModal = new Modal(this.$refs.voucherModal);\n    this.assignModal = new Modal(this.$refs.assignModal);\n    this.fetchVouchers();\n    this.fetchClients();\n  }\n};\n</script>\n\n<style scoped>\n.badge {\n  padding: 0.5em 1em;\n  font-size: 0.875em;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}