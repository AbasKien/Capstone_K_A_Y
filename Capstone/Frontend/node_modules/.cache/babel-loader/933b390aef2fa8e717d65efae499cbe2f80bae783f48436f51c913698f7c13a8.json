{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"core-js/modules/esnext.iterator.reduce.js\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      form: {\n        contact_number: \"\",\n        address: \"\",\n        payment_method: \"cod\"\n      },\n      isLoading: false,\n      orderPlaced: false,\n      errorMessage: \"\"\n    };\n  },\n  computed: {\n    totalItems() {\n      const cart = JSON.parse(localStorage.getItem(\"cartItems\")) || [];\n      return cart.reduce((sum, item) => sum + item.quantity, 0);\n    },\n    totalPrice() {\n      const cart = JSON.parse(localStorage.getItem(\"cartItems\")) || [];\n      return cart.reduce((total, item) => total + item.price * item.quantity, 0).toFixed(2);\n    },\n    cartItems() {\n      return JSON.parse(localStorage.getItem(\"cartItems\")) || [];\n    },\n    finalAmount() {\n      return (parseFloat(this.totalPrice) + 58).toFixed(2);\n    }\n  },\n  methods: {\n    validateContactNumber() {\n      this.form.contact_number = this.form.contact_number.replace(/[^0-9]/g, \"\");\n    },\n    validateForm() {\n      if (!this.form.contact_number || this.form.contact_number.length !== 11 || !/^\\d+$/.test(this.form.contact_number)) {\n        this.errorMessage = \"Please enter a valid 11-digit contact number\";\n        return false;\n      }\n      if (!this.form.address || this.form.address.trim().length < 10) {\n        this.errorMessage = \"Please enter a complete shipping address (at least 10 characters)\";\n        return false;\n      }\n      if (!this.cartItems || this.cartItems.length === 0) {\n        this.errorMessage = \"Your cart is empty\";\n        this.$router.push('/cart');\n        return false;\n      }\n      this.errorMessage = \"\";\n      return true;\n    },\n    async checkout() {\n      if (!this.validateForm()) {\n        return;\n      }\n      this.isLoading = true;\n      this.errorMessage = \"\";\n      try {\n        // Check authentication\n        await axios.get(\"http://localhost:5555/profile\", {\n          withCredentials: true\n        });\n\n        // Format cart items\n        const items = this.cartItems.map(item => ({\n          product_id: parseInt(item.id || item.product_id),\n          quantity: item.quantity,\n          price: parseFloat(item.price)\n        }));\n\n        // Create order\n        const orderData = {\n          contact_number: this.form.contact_number,\n          address: this.form.address,\n          payment_method: this.form.payment_method,\n          items: items,\n          total_price: parseFloat(this.finalAmount)\n        };\n        const response = await axios.post(\"http://localhost:5555/orders\", orderData, {\n          withCredentials: true\n        });\n        if (response.data.success) {\n          // Clear cart\n          localStorage.removeItem(\"cartItems\");\n\n          // Show success message\n          alert(\"Order placed successfully! Thank you for your purchase.\");\n\n          // Redirect to home page\n          this.$router.push('/');\n        }\n      } catch (error) {\n        console.error(\"Checkout error:\", error);\n        if (error.response?.status === 401) {\n          alert(\"Please log in to complete your purchase\");\n          this.$router.push('/login');\n        } else {\n          this.errorMessage = error.response?.data?.message || \"An error occurred during checkout. Please try again.\";\n        }\n      } finally {\n        this.isLoading = false;\n      }\n    },\n    goToCart() {\n      this.$router.push('/cart');\n    },\n    async loadProfileData() {\n      try {\n        const response = await axios.get(\"http://localhost:5555/profile\", {\n          withCredentials: true\n        });\n        if (response.data.success) {\n          const profile = response.data.profile;\n          this.form.contact_number = profile.contact_number || \"\";\n          this.form.address = profile.address || \"\";\n        }\n      } catch (error) {\n        console.error(\"Error loading profile:\", error);\n      }\n    }\n  },\n  created() {\n    this.loadProfileData();\n\n    // Redirect to cart if cart is empty\n    if (!this.cartItems || this.cartItems.length === 0) {\n      this.$router.push('/cart');\n      return;\n    }\n\n    // Check authentication\n    axios.get(\"http://localhost:5555/profile\", {\n      withCredentials: true\n    }).catch(() => {\n      this.$router.push('/login');\n    });\n  }\n};","map":{"version":3,"names":["axios","data","form","contact_number","address","payment_method","isLoading","orderPlaced","errorMessage","computed","totalItems","cart","JSON","parse","localStorage","getItem","reduce","sum","item","quantity","totalPrice","total","price","toFixed","cartItems","finalAmount","parseFloat","methods","validateContactNumber","replace","validateForm","length","test","trim","$router","push","checkout","get","withCredentials","items","map","product_id","parseInt","id","orderData","total_price","response","post","success","removeItem","alert","error","console","status","message","goToCart","loadProfileData","profile","created","catch"],"sources":["C:\\laragon\\www\\Abas-Adeva-Final-project-Appdevvv\\project_appdev\\Frontend\\src\\views\\checkout.vue"],"sourcesContent":["<template>\n  <div class=\"checkout-page\">\n    <div class=\"announcement-bar\">\n      <p>Free shipping on orders over ‚Ç±1000!</p>\n    </div>\n    <div class=\"page-header\">\n      <h1>Checkout</h1>\n      <div class=\"breadcrumb-nav\">\n        <div class=\"breadcrumb-item\">\n          <router-link to=\"/\" class=\"breadcrumb-link\">\n            <span class=\"icon\">üè†</span>\n            <span class=\"text\">Home</span>\n          </router-link>\n        </div>\n        <div class=\"breadcrumb-separator\">\n          <span class=\"icon\">‚ûú</span>\n        </div>\n        <div class=\"breadcrumb-item\">\n          <router-link to=\"/cart\" class=\"breadcrumb-link\">\n            <span class=\"icon\">üõí</span>\n            <span class=\"text\">Cart</span>\n          </router-link>\n        </div>\n        <div class=\"breadcrumb-separator\">\n          <span class=\"icon\">‚ûú</span>\n        </div>\n        <div class=\"breadcrumb-item active\">\n          <span class=\"icon\">üì¶</span>\n          <span class=\"text\">Checkout</span>\n        </div>\n      </div>\n    </div>\n    <div class=\"checkout-container\">\n      <div class=\"checkout-grid\">\n        <!-- Left Column: Personal Information -->\n        <div class=\"checkout-form\">\n          <div class=\"form-card\">\n            <div class=\"card-header\">\n              <span class=\"header-icon\">üëã</span>\n              <h3>Personal Information</h3>\n              <p class=\"subtitle\">Please fill in your details for delivery</p>\n            </div>\n            <div class=\"card-body\">\n              <form @submit.prevent=\"checkout\" class=\"needs-validation\" novalidate>\n                <div class=\"form-group\">\n                  <label for=\"contact-number\">Contact Number</label>\n                  <div class=\"input-wrapper\">\n                    <span class=\"input-icon\">üì±</span>\n                    <input\n                      type=\"tel\"\n                      id=\"contact-number\"\n                      v-model=\"form.contact_number\"\n                      required\n                      placeholder=\"Enter your contact number\"\n                      @input=\"validateContactNumber\"\n                      maxlength=\"11\"\n                      pattern=\"[0-9]{11}\"\n                    />\n                  </div>\n                  <div class=\"invalid-feedback\">Please enter a valid 11-digit contact number.</div>\n                </div>\n\n                <div class=\"form-group\">\n                  <label for=\"address\">Shipping Address</label>\n                  <div class=\"input-wrapper\">\n                    <span class=\"input-icon\">üìç</span>\n                    <textarea\n                      id=\"address\"\n                      v-model=\"form.address\"\n                      required\n                      placeholder=\"Enter your complete shipping address\"\n                    ></textarea>\n                  </div>\n                  <div class=\"invalid-feedback\">Please enter your address.</div>\n                </div>\n\n                <div class=\"form-group\">\n                  <label for=\"payment_method\">Payment Method</label>\n                  <div class=\"input-wrapper\">\n                    <span class=\"input-icon\">üí≥</span>\n                    <select v-model=\"form.payment_method\" id=\"payment_method\" disabled>\n                      <option value=\"cod\">Cash on Delivery</option>\n                    </select>\n                  </div>\n                </div>\n                <div v-if=\"errorMessage\" class=\"error-message\">\n                  {{ errorMessage }}\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n\n        <!-- Right Column: Order Summary -->\n        <div class=\"order-summary\">\n          <div class=\"summary-card\">\n            <div class=\"card-header\">\n              <span class=\"header-icon\">üì¶</span>\n              <h3>Order Summary</h3>\n              <p class=\"subtitle\">Review your order details</p>\n            </div>\n            <div class=\"card-body\">\n              <!-- Show cart items -->\n              <div class=\"cart-items\">\n                <div v-for=\"item in cartItems\" :key=\"item.id\" class=\"cart-item\">\n                  <div class=\"item-details\">\n                    <div class=\"item-info\">\n                      <h4>{{ item.name }}</h4>\n                      <p>Quantity: {{ item.quantity }}</p>\n                      <p class=\"item-price\">‚Ç±{{ (item.price * item.quantity).toFixed(2) }}</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"summary-list\">\n                <div class=\"summary-item\">\n                  <span>Total Items</span>\n                  <span class=\"value\">{{ totalItems }} items</span>\n                </div>\n                <div class=\"summary-item\">\n                  <span>Subtotal</span>\n                  <span class=\"value\">‚Ç±{{ totalPrice }}</span>\n                </div>\n                <div class=\"summary-item\">\n                  <span>Shipping Fee</span>\n                  <span class=\"value\">‚Ç±58.00</span>\n                </div>\n                <div class=\"summary-total\">\n                  <span>Total Amount</span>\n                  <span class=\"value\">‚Ç±{{ finalAmount }}</span>\n                </div>\n              </div>\n\n              <div class=\"action-buttons\">\n                <button \n                  type=\"submit\" \n                  class=\"btn-place-order\" \n                  @click=\"checkout\"\n                  :disabled=\"isLoading || !form.contact_number || !form.address\"\n                >\n                  <span class=\"icon\">{{ isLoading ? '‚è≥' : '‚ú®' }}</span>\n                  {{ isLoading ? 'Processing...' : 'Place Order' }}\n                </button>\n                <button \n                  type=\"button\" \n                  class=\"btn-back\" \n                  @click=\"goToCart\"\n                  :disabled=\"isLoading\"\n                >\n                  <span class=\"icon\">üõí</span>\n                  Back to Cart\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      form: {\n        contact_number: \"\",\n        address: \"\",\n        payment_method: \"cod\",\n      },\n      isLoading: false,\n      orderPlaced: false,\n      errorMessage: \"\",\n    };\n  },\n  computed: {\n    totalItems() {\n      const cart = JSON.parse(localStorage.getItem(\"cartItems\")) || [];\n      return cart.reduce((sum, item) => sum + item.quantity, 0);\n    },\n    totalPrice() {\n      const cart = JSON.parse(localStorage.getItem(\"cartItems\")) || [];\n      return cart\n        .reduce((total, item) => total + item.price * item.quantity, 0)\n        .toFixed(2);\n    },\n    cartItems() {\n      return JSON.parse(localStorage.getItem(\"cartItems\")) || [];\n    },\n    finalAmount() {\n      return (parseFloat(this.totalPrice) + 58).toFixed(2);\n    }\n  },\n  methods: {\n    validateContactNumber() {\n      this.form.contact_number = this.form.contact_number.replace(/[^0-9]/g, \"\");\n    },\n    \n    validateForm() {\n      if (!this.form.contact_number || this.form.contact_number.length !== 11 || !/^\\d+$/.test(this.form.contact_number)) {\n        this.errorMessage = \"Please enter a valid 11-digit contact number\";\n        return false;\n      }\n\n      if (!this.form.address || this.form.address.trim().length < 10) {\n        this.errorMessage = \"Please enter a complete shipping address (at least 10 characters)\";\n        return false;\n      }\n\n      if (!this.cartItems || this.cartItems.length === 0) {\n        this.errorMessage = \"Your cart is empty\";\n        this.$router.push('/cart');\n        return false;\n      }\n\n      this.errorMessage = \"\";\n      return true;\n    },\n\n    async checkout() {\n      if (!this.validateForm()) {\n        return;\n      }\n\n      this.isLoading = true;\n      this.errorMessage = \"\";\n\n      try {\n        // Check authentication\n        await axios.get(\"http://localhost:5555/profile\", {\n          withCredentials: true\n        });\n\n        // Format cart items\n        const items = this.cartItems.map(item => ({\n          product_id: parseInt(item.id || item.product_id),\n          quantity: item.quantity,\n          price: parseFloat(item.price)\n        }));\n\n        // Create order\n        const orderData = {\n          contact_number: this.form.contact_number,\n          address: this.form.address,\n          payment_method: this.form.payment_method,\n          items: items,\n          total_price: parseFloat(this.finalAmount)\n        };\n\n        const response = await axios.post(\n          \"http://localhost:5555/orders\",\n          orderData,\n          { withCredentials: true }\n        );\n\n        if (response.data.success) {\n          // Clear cart\n          localStorage.removeItem(\"cartItems\");\n          \n          // Show success message\n          alert(\"Order placed successfully! Thank you for your purchase.\");\n          \n          // Redirect to home page\n          this.$router.push('/');\n        }\n      } catch (error) {\n        console.error(\"Checkout error:\", error);\n        if (error.response?.status === 401) {\n          alert(\"Please log in to complete your purchase\");\n          this.$router.push('/login');\n        } else {\n          this.errorMessage = error.response?.data?.message || \"An error occurred during checkout. Please try again.\";\n        }\n      } finally {\n        this.isLoading = false;\n      }\n    },\n\n    goToCart() {\n      this.$router.push('/cart');\n    },\n\n    async loadProfileData() {\n      try {\n        const response = await axios.get(\"http://localhost:5555/profile\", {\n          withCredentials: true\n        });\n        \n        if (response.data.success) {\n          const profile = response.data.profile;\n          this.form.contact_number = profile.contact_number || \"\";\n          this.form.address = profile.address || \"\";\n        }\n      } catch (error) {\n        console.error(\"Error loading profile:\", error);\n      }\n    }\n  },\n  created() {\n    this.loadProfileData();\n    \n    // Redirect to cart if cart is empty\n    if (!this.cartItems || this.cartItems.length === 0) {\n      this.$router.push('/cart');\n      return;\n    }\n\n    // Check authentication\n    axios\n      .get(\"http://localhost:5555/profile\", {\n        withCredentials: true\n      })\n      .catch(() => {\n        this.$router.push('/login');\n      });\n  }\n};\n</script>\n\n<style scoped>\n.checkout-page {\n  min-height: 100vh;\n  background: linear-gradient(135deg, #EEF2FF 0%, #F8FAFC 100%);\n  font-family: 'Poppins', sans-serif;\n}\n\n.announcement-bar {\n  background: linear-gradient(90deg, #4F46E5, #7C3AED);\n  color: white;\n  padding: 0.75rem;\n  font-weight: 500;\n}\n\n.page-header {\n  max-width: 1400px;\n  margin: 0 auto;\n  padding: 2rem 5%;\n}\n\n.page-header h1 {\n  font-size: 2rem;\n  color: #1A365D;\n  margin-bottom: 0.5rem;\n}\n\n.breadcrumb-nav {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 1rem 0;\n  margin-bottom: 2rem;\n}\n\n.breadcrumb-item {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.breadcrumb-link {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  color: #4F46E5;\n  text-decoration: none;\n  padding: 0.5rem;\n  border-radius: 8px;\n  transition: all 0.3s ease;\n}\n\n.breadcrumb-link:hover {\n  background: #EEF2FF;\n}\n\n.breadcrumb-item.active {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  color: #1A365D;\n  padding: 0.5rem;\n  border-radius: 8px;\n  background: #EEF2FF;\n}\n\n.breadcrumb-separator {\n  color: #94A3B8;\n  display: flex;\n  align-items: center;\n}\n\n.breadcrumb-item .icon {\n  font-size: 1.25rem;\n}\n\n.breadcrumb-item .text {\n  font-size: 0.9rem;\n  font-weight: 500;\n}\n\n.checkout-container {\n  max-width: 1400px;\n  margin: 0 auto;\n  padding: 0 5% 2rem;\n}\n\n.checkout-grid {\n  display: grid;\n  grid-template-columns: 1fr 380px;\n  gap: 2rem;\n}\n\n.form-card,\n.summary-card {\n  background: white;\n  border-radius: 20px;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n}\n\n.card-header {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  padding: 1.5rem;\n  border-bottom: 1px solid #E2E8F0;\n}\n\n.header-icon {\n  font-size: 1.5rem;\n}\n\n.card-header h3 {\n  font-size: 1.25rem;\n  color: #1A365D;\n  margin: 0;\n}\n\n.subtitle {\n  color: #4A5568;\n  font-size: 0.9rem;\n  margin: 0.25rem 0 0;\n}\n\n.card-body {\n  padding: 1.5rem;\n}\n\n.form-group {\n  margin-bottom: 1.5rem;\n}\n\n.form-group:last-child {\n  margin-bottom: 0;\n}\n\n.form-group label {\n  display: block;\n  font-weight: 500;\n  color: #2D3748;\n  margin-bottom: 0.5rem;\n}\n\n.input-wrapper {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  background: #F7FAFC;\n  border: 2px solid #E2E8F0;\n  border-radius: 12px;\n  padding: 0.75rem 1rem;\n  transition: all 0.3s ease;\n}\n\n.input-wrapper:focus-within {\n  border-color: #4F46E5;\n  box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);\n}\n\n.input-icon {\n  font-size: 1.25rem;\n  color: #4A5568;\n}\n\n.input-wrapper input,\n.input-wrapper textarea,\n.input-wrapper select {\n  width: 100%;\n  border: none;\n  background: transparent;\n  font-size: 1rem;\n  color: #2D3748;\n  font-family: inherit;\n}\n\n.input-wrapper input:focus,\n.input-wrapper textarea:focus,\n.input-wrapper select:focus {\n  outline: none;\n}\n\n.input-wrapper input::placeholder,\n.input-wrapper textarea::placeholder {\n  color: #A0AEC0;\n}\n\n.payment-select select {\n  cursor: not-allowed;\n  opacity: 0.7;\n}\n\n.payment-note {\n  font-size: 0.9rem;\n  color: #4A5568;\n  margin-top: 0.5rem;\n}\n\n.error-message {\n  color: #E53E3E;\n  font-size: 0.9rem;\n  margin-top: 0.5rem;\n  padding: 0.5rem;\n  background: #FEF2F2;\n  border-radius: 8px;\n  border: 1px solid #FCA5A5;\n}\n\n.cart-items {\n  margin-bottom: 1.5rem;\n  max-height: 300px;\n  overflow-y: auto;\n  scrollbar-width: thin;\n  scrollbar-color: #CBD5E0 #EDF2F7;\n}\n\n.cart-items::-webkit-scrollbar {\n  width: 6px;\n}\n\n.cart-items::-webkit-scrollbar-track {\n  background: #EDF2F7;\n  border-radius: 3px;\n}\n\n.cart-items::-webkit-scrollbar-thumb {\n  background: #CBD5E0;\n  border-radius: 3px;\n}\n\n.cart-item {\n  padding: 1rem;\n  border: 1px solid #E2E8F0;\n  border-radius: 12px;\n  margin-bottom: 1rem;\n}\n\n.cart-item:last-child {\n  margin-bottom: 0;\n}\n\n.item-info h4 {\n  font-size: 1rem;\n  color: #1A365D;\n  margin: 0 0 0.5rem;\n}\n\n.item-meta {\n  display: flex;\n  justify-content: space-between;\n  color: #4A5568;\n  font-size: 0.9rem;\n}\n\n.item-price {\n  font-weight: 600;\n  color: #1A365D;\n}\n\n.summary-list {\n  margin-bottom: 1.5rem;\n}\n\n.summary-item {\n  display: flex;\n  justify-content: space-between;\n  color: #4A5568;\n  margin-bottom: 1rem;\n}\n\n.summary-divider {\n  height: 1px;\n  background: #E2E8F0;\n  margin: 1rem 0;\n}\n\n.summary-total {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-weight: 600;\n  padding-top: 1rem;\n  border-top: 2px solid #E2E8F0;\n}\n\n.total-amount {\n  display: flex;\n  align-items: baseline;\n  gap: 0.5rem;\n}\n\n.currency {\n  color: #4A5568;\n  font-size: 0.9rem;\n}\n\n.amount {\n  color: #1A365D;\n  font-size: 1.5rem;\n}\n\n.action-buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin-top: 1.5rem;\n}\n\n.btn-place-order {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  width: 100%;\n  background: #4F46E5;\n  color: white;\n  border: none;\n  border-radius: 12px;\n  padding: 1rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.btn-place-order:hover:not(:disabled) {\n  background: #4338CA;\n  transform: translateY(-2px);\n}\n\n.btn-place-order:disabled {\n  opacity: 0.7;\n  cursor: not-allowed;\n}\n\n.btn-back {\n  width: 100%;\n  background: #EEF2FF;\n  color: #4F46E5;\n  border: none;\n  border-radius: 12px;\n  padding: 1rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.btn-back:hover:not(:disabled) {\n  background: #E0E7FF;\n  transform: translateY(-2px);\n}\n\n.secure-checkout {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  margin-top: 1rem;\n  color: #4A5568;\n  font-size: 0.9rem;\n}\n\n.secure-icon {\n  font-size: 1rem;\n}\n\n@media (max-width: 1024px) {\n  .checkout-grid {\n    grid-template-columns: 1fr 340px;\n  }\n}\n\n@media (max-width: 768px) {\n  .checkout-grid {\n    grid-template-columns: 1fr;\n  }\n}\n\n@media (max-width: 480px) {\n  .page-header,\n  .checkout-container {\n    padding-left: 1rem;\n    padding-right: 1rem;\n  }\n\n  .card-header {\n    padding: 1rem;\n  }\n\n  .card-body {\n    padding: 1rem;\n  }\n\n  .header-icon {\n    font-size: 1.25rem;\n  }\n\n  .card-header h3 {\n    font-size: 1.1rem;\n  }\n\n  .breadcrumb-item .text {\n    display: none;\n  }\n  \n  .breadcrumb-nav {\n    justify-content: center;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}