{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, withModifiers as _withModifiers, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"auth-page\"\n};\nconst _hoisted_2 = {\n  class: \"navbar\"\n};\nconst _hoisted_3 = {\n  class: \"search-bar\"\n};\nconst _hoisted_4 = {\n  class: \"container\"\n};\nconst _hoisted_5 = {\n  class: \"form-section\"\n};\nconst _hoisted_6 = {\n  class: \"auth-section\"\n};\nconst _hoisted_7 = {\n  class: \"form-actions\"\n};\nconst _hoisted_8 = [\"disabled\"];\nconst _hoisted_9 = {\n  key: 0,\n  class: \"error-message\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"header\", _hoisted_2, [_cache[12] || (_cache[12] = _createElementVNode(\"h1\", {\n    class: \"brand\"\n  }, \"Domus Architecture\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"Tracking Number\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.trackingNumber = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.trackingNumber]]), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.searchTrackingNumber && $options.searchTrackingNumber(...args))\n  }, \"Search\")])]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_cache[16] || (_cache[16] = _createElementVNode(\"h2\", null, \"Submit Document (For Guest)\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    class: \"document-form\",\n    onSubmit: _cache[8] || (_cache[8] = _withModifiers((...args) => $options.submitDocument && $options.submitDocument(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.document.fullName = $event),\n    placeholder: \"Full Name\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.document.fullName]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.document.office = $event),\n    placeholder: \"Office\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.document.office]]), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.document.type = $event),\n    required: \"\"\n  }, _cache[13] || (_cache[13] = [_createElementVNode(\"option\", {\n    value: \"\",\n    disabled: \"\",\n    selected: \"\"\n  }, \"--Select Document Type--\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"plan\"\n  }, \"Blueprint/Plan\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"permit\"\n  }, \"Permit Request\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.document.type]]), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.document.details = $event),\n    placeholder: \"Description, Date, Destination\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.document.details]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.document.purpose = $event),\n    placeholder: \"Purpose\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.document.purpose]]), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.document.receivingOffice = $event),\n    required: \"\"\n  }, _cache[14] || (_cache[14] = [_createElementVNode(\"option\", {\n    value: \"\",\n    disabled: \"\",\n    selected: \"\"\n  }, \"Receiving Office\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"admin\"\n  }, \"Administration\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"design\"\n  }, \"Design Team\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.document.receivingOffice]]), _cache[15] || (_cache[15] = _createElementVNode(\"div\", {\n    class: \"form-actions\"\n  }, [_createElementVNode(\"button\", {\n    type: \"reset\",\n    class: \"cancel\"\n  }, \"Cancel\"), _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"submit\"\n  }, \"Submit\")], -1 /* HOISTED */))], 32 /* NEED_HYDRATION */)]), _createElementVNode(\"div\", _hoisted_6, [_cache[18] || (_cache[18] = _createElementVNode(\"h2\", null, \"Login (For Registered Users)\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    class: \"auth-form\",\n    onSubmit: _cache[11] || (_cache[11] = _withModifiers((...args) => $options.handleLogin && $options.handleLogin(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.email = $event),\n    placeholder: \"Email\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.password = $event),\n    placeholder: \"Password\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]]), _createElementVNode(\"div\", _hoisted_7, [_cache[17] || (_cache[17] = _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"cancel\"\n  }, \"Cancel\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"submit\",\n    disabled: $data.isLoading\n  }, _toDisplayString($data.isLoading ? 'Signing in...' : 'Sign in'), 9 /* TEXT, PROPS */, _hoisted_8)]), $data.error ? (_openBlock(), _createElementBlock(\"p\", _hoisted_9, _toDisplayString($data.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)], 32 /* NEED_HYDRATION */)])])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","type","placeholder","_cache","$event","$data","trackingNumber","onClick","args","$options","searchTrackingNumber","_hoisted_4","_hoisted_5","onSubmit","_withModifiers","submitDocument","document","fullName","required","office","value","disabled","selected","details","purpose","receivingOffice","_hoisted_6","handleLogin","email","password","_hoisted_7","isLoading","_hoisted_8","error","_hoisted_9","_toDisplayString","_createCommentVNode"],"sources":["C:\\laragon\\www\\capstone\\project_appdev\\Frontend\\src\\views\\loginview.vue"],"sourcesContent":["<template>\n  <div class=\"auth-page\">\n    <header class=\"navbar\">\n      <h1 class=\"brand\">Domus Architecture</h1>\n      <div class=\"search-bar\">\n        <input type=\"text\" placeholder=\"Tracking Number\" v-model=\"trackingNumber\" />\n        <button @click=\"searchTrackingNumber\">Search</button>\n      </div>\n    </header>\n    \n    <div class=\"container\">\n      <div class=\"form-section\">\n        <h2>Submit Document (For Guest)</h2>\n        <form class=\"document-form\" @submit.prevent=\"submitDocument\">\n          <input type=\"text\" v-model=\"document.fullName\" placeholder=\"Full Name\" required />\n          <input type=\"text\" v-model=\"document.office\" placeholder=\"Office\" required />\n          <select v-model=\"document.type\" required>\n            <option value=\"\" disabled selected>--Select Document Type--</option>\n            <option value=\"plan\">Blueprint/Plan</option>\n            <option value=\"permit\">Permit Request</option>\n          </select>\n          <textarea v-model=\"document.details\" placeholder=\"Description, Date, Destination\" required></textarea>\n          <input type=\"text\" v-model=\"document.purpose\" placeholder=\"Purpose\" required />\n          <select v-model=\"document.receivingOffice\" required>\n            <option value=\"\" disabled selected>Receiving Office</option>\n            <option value=\"admin\">Administration</option>\n            <option value=\"design\">Design Team</option>\n          </select>\n          <div class=\"form-actions\">\n            <button type=\"reset\" class=\"cancel\">Cancel</button>\n            <button type=\"submit\" class=\"submit\">Submit</button>\n          </div>\n        </form>\n      </div>\n      \n      <div class=\"auth-section\">\n        <h2>Login (For Registered Users)</h2>\n        <form class=\"auth-form\" @submit.prevent=\"handleLogin\">\n          <input type=\"email\" v-model=\"email\" placeholder=\"Email\" required />\n          <input type=\"password\" v-model=\"password\" placeholder=\"Password\" required />\n          <div class=\"form-actions\">\n            <button type=\"button\" class=\"cancel\">Cancel</button>\n            <button type=\"submit\" class=\"submit\" :disabled=\"isLoading\">\n              {{ isLoading ? 'Signing in...' : 'Sign in' }}\n            </button>\n          </div>\n          <p v-if=\"error\" class=\"error-message\">{{ error }}</p>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: 'LoginView',\n  data() {\n    return {\n      email: '',\n      password: '',\n      isLoading: false,\n      error: null,\n      trackingNumber: '',\n      document: {\n        fullName: '',\n        office: '',\n        type: '',\n        details: '',\n        purpose: '',\n        receivingOffice: ''\n      }\n    };\n  },\n  methods: {\n    async handleLogin() {\n      this.isLoading = true;\n      this.error = null;\n      try {\n        const response = await axios.post(\"http://localhost:5555/login\", {\n          email: this.email,\n          password: this.password,\n        }, { withCredentials: true });\n        \n        localStorage.setItem(\"userEmail\", response.data.email);\n        localStorage.setItem(\"userRole\", response.data.role);\n        localStorage.setItem(\"token\", response.data.token);\n        localStorage.setItem(\"isLoggedIn\", \"true\");\n\n        this.$router.push(\"/home\");\n      } catch (err) {\n        this.error = err.response?.data?.message || \"Login failed. Please try again.\";\n      } finally {\n        this.isLoading = false;\n      }\n    },\n    async submitDocument() {\n      try {\n        await axios.post(\"http://localhost:5555/submit-document\", this.document);\n        alert(\"Document submitted successfully!\");\n      } catch (error) {\n        console.error(\"Document submission failed\", error);\n      }\n    },\n    searchTrackingNumber() {\n      if (this.trackingNumber) {\n        alert(\"Searching for tracking number: \" + this.trackingNumber);\n      } else {\n        alert(\"Please enter a tracking number.\");\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.auth-page {\n  font-family: 'Poppins', sans-serif;\n  background: #2d2d2d;\n  color: white;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px;\n}\n\n.navbar {\n  width: 100%;\n  background: #444;\n  color: white;\n  display: flex;\n  justify-content: space-between;\n  padding: 15px 30px;\n  font-size: 1.5rem;\n}\n\n.search-bar input {\n  padding: 8px;\n  border: none;\n  border-radius: 4px;\n}\n\n.search-bar button {\n  background: #ff9800;\n  border: none;\n  padding: 8px 12px;\n  color: white;\n  cursor: pointer;\n}\n\n.container {\n  display: flex;\n  justify-content: space-between;\n  width: 80%;\n  margin-top: 30px;\n}\n\n.form-section, .auth-section {\n  background: #3d3d3d;\n  padding: 20px;\n  border-radius: 8px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);\n  width: 48%;\n}\n\nh2 {\n  font-size: 1.3rem;\n  margin-bottom: 15px;\n}\n\ninput, select, textarea {\n  width: 100%;\n  padding: 10px;\n  margin-bottom: 10px;\n  border: 1px solid #777;\n  border-radius: 5px;\n  background: #555;\n  color: white;\n}\n\ntextarea {\n  height: 80px;\n}\n\n.form-actions {\n  display: flex;\n  justify-content: space-between;\n}\n\nbutton {\n  padding: 10px 15px;\n  border: none;\n  border-radius: 5px;\n  font-size: 1rem;\n  cursor: pointer;\n}\n\n.cancel {\n  background: #888;\n}\n\n.submit {\n  background: #ff9800;\n  color: white;\n}\n\n.error-message {\n  color: red;\n  margin-top: 10px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}